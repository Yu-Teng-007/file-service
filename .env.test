# 测试环境配置文件
# 此文件包含测试环境特定的配置，用于单元测试和集成测试

# 服务器配置
PORT=3002
NODE_ENV=test

# 文件存储配置（测试环境使用临时目录）
UPLOAD_DIR=test-uploads
MAX_FILE_SIZE=10485760
TEMP_DIR=test-temp

# 安全配置（测试环境使用固定的测试密钥）
JWT_SECRET=test-jwt-secret-key-for-testing-only
JWT_EXPIRES_IN=1h
API_KEY=test-api-key

# CORS 配置（测试环境允许所有来源）
CORS_ORIGINS=*

# 速率限制（测试环境禁用或设置很高）
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=10000

# Redis 缓存配置（测试环境使用内存缓存）
REDIS_HOST=
REDIS_PORT=
REDIS_PASSWORD=
REDIS_DB=1
CACHE_TTL=300
CACHE_MAX_ITEMS=100

# CDN 配置（测试环境使用本地存储）
CDN_PROVIDER=local
CDN_REGION=
CDN_BUCKET=
CDN_ACCESS_KEY_ID=
CDN_ACCESS_KEY_SECRET=
CDN_ENDPOINT=
CDN_CUSTOM_DOMAIN=
CDN_ENABLE_HTTPS=false

# 监控配置（测试环境最小化监控）
MONITORING_ACCESS_LOGGING=false
MONITORING_PERFORMANCE=false
MONITORING_STORAGE=false
MONITORING_LOG_RETENTION_DAYS=1
MONITORING_METRICS_RETENTION_DAYS=1

# 版本控制配置
VERSIONING_MAX_VERSIONS=3
VERSIONING_AUTO_ENABLED=false
VERSIONING_RETENTION_DAYS=1
VERSION_STORAGE_DIR=test-versions

# 图片处理配置
IMAGE_PROCESSING_ENABLED=true
IMAGE_MAX_SIZE=5MB
IMAGE_QUALITY_DEFAULT=70

# 压缩配置
COMPRESSION_ENABLED=false
COMPRESSION_LEVEL=1

# 文件类型大小限制（字节）- 测试环境使用较小限制
MAX_IMAGE_SIZE=1048576
MAX_SCRIPT_SIZE=524288
MAX_STYLE_SIZE=262144
MAX_FONT_SIZE=524288
MAX_DOCUMENT_SIZE=2097152
MAX_MUSIC_SIZE=5242880

# 存储提供商（测试环境使用本地存储）
STORAGE_PROVIDER=local

# 缓存配置
CACHE_TTL=300
ENABLE_COMPRESSION=false

# 日志配置（测试环境使用最小日志）
LOG_LEVEL=error
LOG_DIR=test-logs

# 数据库配置（测试环境使用内存数据库）
DATABASE_URL=sqlite::memory:

# 安全功能（测试环境禁用所有安全功能）
ENABLE_VIRUS_SCAN=false
VIRUS_SCAN_API_KEY=

# CDN 配置
CDN_URL=
ENABLE_CDN=false

# 测试环境特定配置
DEBUG=false
ENABLE_SWAGGER=false
ENABLE_CORS_CREDENTIALS=false
ENABLE_REQUEST_LOGGING=false
ENABLE_ERROR_STACK_TRACE=true

# 测试配置
TEST_TIMEOUT=30000
TEST_PARALLEL=true
TEST_CLEANUP=true
MOCK_EXTERNAL_SERVICES=true

# 测试数据配置
TEST_DATA_DIR=test-data
RESET_DB_BEFORE_TESTS=true
SEED_TEST_DATA=true

# 性能测试配置
PERFORMANCE_TEST_ENABLED=false
LOAD_TEST_CONCURRENT_USERS=10
LOAD_TEST_DURATION=60

# 集成测试配置
INTEGRATION_TEST_ENABLED=true
E2E_TEST_ENABLED=false

# 测试覆盖率配置
COVERAGE_ENABLED=true
COVERAGE_THRESHOLD=80
